

## 软件中的安全需求

软件开发安全

周界保护

环境与应用程序
• 软件控制可以通过操作系统、应用程序或者数据库管理控制来实现
• 安全产品和周边设备往往不能够提供必要的安全细粒度级别 

功能与安全
• 在安全性和功能性之间会存在一个平衡，而在开发过程中，功能性往
往被认为是最重要的 

实现和默认配置问题
• 大多数安全功能都需要在安装之后进行配置或者打开
• 实现错误和错误配置是造成大量安全问题的常见原因
• 存在大量未进行修补的系统 

## 件开发生命周期 

周期

SDLC(software development life cycle)模型

需求--设计--开发---测试---发布

每一步都需要考虑安全



安全

安全软件开发最佳实践
• 开放式Web 应用程序安全项目（OWASP）
• MITRE公司创始的CWE

CWE-常见缺陷列表是MITRE公司（一个非盈利机构）推出的一个安全漏洞词典。
通过这一词典，Mitre公司希望提供识别、减轻、阻止软件缺陷的通用标准。 

• ISO/IEC 27034标准 

国际标准化组织ISO也制定了软件开发标准，其中ISO 27034标准中包括以下条
目：应用安全综述和概念、组织规范框架、应用程序安全管理过程、应用安全
验证以及特定应用的安全指南 



模型

软件开发模型
• 边做边改模型
• 瀑布模型
• V模型
• 原型模型
• 增量模型
• 螺旋模型
• 快速应用开发（PAD）模型
• 敏捷模型
• 联合分析开发（JAD）
• 复用模型
• 净室模型 

在现实中以单一模型使用开发方法的情况极为罕见。相反的是，组织会以基本
方法开始，并对其进行修改以适用于他们自己的独特环境。 



集成产品开发
• 集成产品开发团队（IPT）是一支多元开发团队，团队成员为各利益相
关方的代表
• DevOps是将开发、IT、质量保证（QA）工作人员组成同一软件开发
项目团队的实践，这将统一他们的目标，提高他们的效率，并减少对
软件产品的依赖 



**能力成熟度模型集成**
• 能力成熟度模型集成（Capability Maturity Model Integration，
CMMI）集成了一整套产品和软件开发指南
![1585664998003](D:\L\学习笔记\Typora图片\1585664998003.png)

能力成熟度模型集成（Capability Maturity Model Integration，CMMI）集
成了一整套产品和软件开发指南。它涉及软件开发生命周期的不同阶段，包括
概念定义、需求分析、设计、开发、集成、安装、操作、维护等阶段，以及每
个阶段应该做什么。可以根据该模型来评估安全工程实践并标识改进方法。客
户也可以根据它来评估软件供应商，最理想的情况是二者结合，即软件供应商
使用该模型提升流程，而客户使用该模型评估供应商的做法。 

使用的成熟度级别有下列5种：
• 初始 开发过程很随意，甚至非常混乱。该公司没有使用一个有效的管
理流程和计划。没有一致性的保证，质量不可预测。
• 可重复 正式的管理结构、变更控制和质量保证。该公司可以在不同项
目中适当地重复一些过程。该公司并没有定义正式的过程模型。
• 定义 有正式流程，其中描述和定义了在不同项目中的过程。该公司有
方法对过程进行定量的改善。
• 管理 公司有一个正式的过程，可以收集和分析定性数据。度量被定义
并提供给过程改善程序。
• 优化 公司对持续改善过程有了预算和整体计划。 



代码库的安全性
• 代码码库通常是版本控制系统，它存贮着组织最重要的信息
• 源代码会被盗取
• 攻击者可能会将漏洞插入到软件中 



## 编程语言和环境

面向对象  分布式计算环境

面向对象相关概念
• 类和对象
• 多态
• 数据建模和数据结构
• 内聚和耦合
• 应用编程接口 

数据建模是一种独立地、能考虑要处理的数据和如何处理数据的组件。数据模
型需要从头至尾跟踪输入数据，并且验证输出的正确性。数据建模可以用于提
供对数据和控制数据的关系的一种理解。
数据结构是对数据元素之间逻辑关系的表示。数据结构指明了元素间关联的程
度、访问方法、处理选择以及数据元素的组织。 

内聚(cohesion)是反映某个模块能够执行多少种不同类型的任务的术语。耦合
是一种度量，表示一个模块完成其任务需要进行多少交互。内聚和耦合的复杂
程度直接关系到程序的安全性。某件东西越复杂，就越难保证其安全。 

应用编程接口正是描述了一个软件组件与另一个软件组件的连接 。



分布式计算
• 分布式计算环境(DCE)是由开放软件基金会(OSF，也称为开放小组)
开发的一个标准
• 公共对象请求代理架构(CORBA)是由对象管理组(OMG)开发的一个
开放式面向对象的标准架构
• 组件对象模型（COM）是一种允许某个应用程序内或相同计算机系
统上不同应用程序之间实现进程间通信的机制。
• 面向服务的架构(SOA)提供了标准化访问，这样可以在同一时刻访问
不同应用程序中最需要的服务。 

分布式计算环境(Distributed Computing Environment，DCE)是由开放软件基金会(Open
Software Foundation，OSF，也称为开放小组)开发的一个标准。这是一个客户端/服务器框架，
可供许多供应商在其产品中应用。该框架描述了各种能力如何在异质系统之间集成和共享。

公共对象请求代理架构(CORBA)是由对象管理组(Object Management Group，OMG)开发的
一个开放式面向对象的标准架构，它为目前环境中大量不同的软件、平台和硬件提供互操作性。
CORBA使应用程序之间能够互相通信，同时不用考虑应用程序的位置和开发人员。该模型定义
了对象语法，使外部可见特征标准化，并且对环境中的其他对象是统一的。这种标准使很多不
同的开发人员在无须知道其他组件如何工作的情况下，就可以开发能够与其他组件交互的大量
组件。开发人员只知道如何与组件通信，因为接口是统一的，并且遵循模型的规则。

组件对象模型（COM）是一种允许某个应用程序内或相同计算机系统上不同应用程序之间实现
进程间通信的机制。分布式组件对象模型（DCOM）不仅支持同样的用于组件交互的模型，而
且还支持分布式（IPC）。COM使应用程序能够使用相同系统上的组件，而DCOM则使应用程
序能够访问驻留在网络不同部分的对象。基于COM的操作系统和/或应用程序正是这样执行基
于客户端/服务器的活动。对象链接和嵌入(Object Linking and Embedding，OLE)为在本地个
人计算机上共享对象提供了一种方式，并使用COM作为其基础。

面向服务的架构(SOA)提供了标准化访问，这样可以在同一时刻访问不同应用程序中最需要的
服务。它将应用程序分为不同的功能单元(称为服务)，通过这些服务之间定义良好的接口和数据
共享标准联系起来。这意味着单个应用程序不需要拥有相同的冗余代码和功能。功能可以由一
个单独的实体来提供，然后所有其他应用程序可以调用并使用它的一个实例。这是所有分布式
计算技术和方法的真正关键技术—— SOA更多的是一种基于Web的方法。 



## 数据库管理

模型 编程接口  组件 安全 知识系统

数据库管理软件
• 数据库管理系统（DBMS）能够提供用户和应用程序在需要时访问、
查看和更改数据，还可以实施访问控制限制，提供数据完整性和元余，
以及为数据操作建立不同的过程。
• 事务处理持续化（transaction persistence） 

事务处理持续化（transaction persistence） 意味着执行事务处理的数据库过
程是持久可靠的。在进行事务处理之后，数据库的安全状态应保持原状，同时
还需要确保事务处理的完整性。 



数据库模型
• 数据库可以采用若干种模型：
 关系数据库模型
 层次数据库模型
 网络数据库模型
 面向对象的数据库模型
 对象-关系数据库模型 



数据库编程接口
• 开放数据库互连(Open Database Connectivity，ODBC)
• 对象链接和嵌入数据库(Object Linking and Embedding Database，
OLE DB)
• ActiveX数据对象(ActiveX Data Object，ADO)
• Java数据库互连(Java Database Connectivity，JDBC) 



应用程序需要通过某种接口和通信机制，与存储在数据库中的数据交互。下面
介绍一些这样的接口语言。
**开放数据库互连(Open Database Connectivity，ODBC)** 一个应用编程接口
(Application Programming Interface，API)，允许应用程序与本地的或者远
程的数据库通信。应用程序向ODBC API发送请求。ODBC为数据库查找到执行
翻译的、针对具体数据库的必要驱动程序，进而将请求翻译为特定数据库能够
理解的数据库命令。
**对象链接和嵌入数据库(Object Linking and Embedding Database，OLE DB)**
作为中间件运行在客户端或者服务器上，将数据分成多个组成部分。它提供一
个底层接口，以链接不同数据库的数据以及提供对不同位置或不同格式数据的
访问。
**ActiveX数据对象(ActiveX Data Object，ADO)** 一个允许应用程序访问后端数
据库系统的API。它是一组ODBC接口的集合，使用可访问对象来展示数据来源
的功能。ADO使用OLE DB接口连接数据库，并且可以使用多种不同的脚本语
言进行开发。ADO常用在Web应用程序和其他客户端/服务器应用程序中。
Java数据库互连(Java Database Connectivity，JDBC) 是一个允许Java应用程
序与数据库通信的API。应用程序可以直接或者通过ODBC连接到数据库。  	



关系数据库组件
• 数据定义语言(DDL)
• 数据库操作语言(DML)
• 查询语言(QL)
• 报表生成器
• 数据字典
• 主键与外键 



数据库完整性和安全
• 3 种主要类型的完整性服务
• 聚合和推理
• 数据库视图
• 多实例
• 联机事物处理
• ACID 



数据库软件应该实现一种名为ACID测试的四个特征：
原子性(atomicity) 将事务处理分成多个工作单元，并且确保所有的修改都生效或者没有一个修改生效。
要么所有修改都提交，要么数据库回滚。
一致性(consistency) 事务处理必须遵守为特定数据库制定的完整性策略，并且确保在不同数据库中的所
有数据的一致性。
隔离性(isolation) 事务处理完全隔离执行直至完成，同时事务处理之间互不影响。在事务处理完成之前，
修改的结果不会生效。
持久性(durability) 一旦事务处理在所有的系统上都被验证为是正确的，它就会被提交，并且数据库无法
回滚。 



## WEB应用安全

特定威胁   安全原则



针对Web 环境的特定威胁
• 管理接口
• 身份验证与访问控制
• 输入验证
• 参数确证
• 会话管理 



Web应用安全原则
• 分析网站架构
• 设计安全功能
• 严格审查输入
• 过滤输出 



Web应用安全原则能够规范编程风格，以及战略性地减少重复出现软件错误和
逻辑缺陷的几率。实施安全原则的第一个法宝是分析网站架构。一个网站越清
晰、简单，那么分析它的各种安全要素就越容易。设计安全功能的一个重要因
素是要从人性化角度考虑问题。为了实现安全的有效性，程序员甚至可能想让
用户在每次点击鼠标时候都确认密码，但即使这样Web开发人员也必须维护功
能和安全性之间的平衡。使用加密技术将有助于保护Web应用程序的输入/输出
操作。虽然加密的数据可能被恶意用户所截获，但是它们只能被那些拥有密钥
的人在解密后读取或修改。用户生成的Web站点输入就需要严格审查。所有输
入必须被认为是不安全的或恶意的，应该在处理之前进行净化处理。同样，由
系统产生的所有输出也应该被过滤，以确保私有或敏感数据不被泄漏。 

## 针对应用程序的相关攻击

常见的应用层攻击：侦察攻击、伪装攻击、密码攻击以及其他攻击 



侦察攻击
• 执行侦查可以让攻击者找到弱点， 利用他们的攻击代码直接攻击侦察，
主要有四种侦查技术
 IP 探测
 端口扫描
 漏洞
 垃圾搜寻 

每个组织都会产生垃圾， 通常每天的日常工作会产生大量的垃圾，这里面可能
有大量敏感信息。垃圾搜寻是最古老的攻击方法之一， 直到今天还在被使用。 



伪装攻击
• 为了获得对没有访问资格的资源的访问权限， 最简单的方法之一就是
假冒具有适当访问许可权限的人
• 常见的伪装攻击:
IP 欺骗
会话劫持 



密码攻击
• 攻击者用于获得对系统的非法访问的最简单技术之一是: 获悉己授权
系统用户的用户名和密码。
• 获悉合法用户密码并访问系统的三种方法:
 密码猜测攻击
 字典攻击
 社会工程学攻击 



应用程序攻击
• 缓冲区溢出
• 检验时间到使用时间（TOC/TOU）
• 后门
• 权限提升和rootkit 



检验时间到使用时间（Time-Of-Check-To-Time-Of-Use，TOCTTOU 或TOC/TOU）的问题是一个时间型漏洞)当检查访问许可权限的时间大大早于资源请求的时间时， 就会出现这种问题。 



## 恶意代码

恶意代码类型 		防御软件

恶意代码存在的类型
• 病毒
• 蠕虫
• Rootkit
• 间谍软件和广告软件
• 僵尸网络
• 特洛伊木马
• 逻辑炸弹 



**病毒是可以感染应用程序的一个小程序或者一串代码**。病毒的主要功能是复制，
它需要借助一个宿主应用程序来进行复制。换句话说，病毒不能进行自我复制。
病毒通过在文件中插入或者附加自身复制品对文件进行感染。
**蠕虫**不同于病毒，因为它可以不需要宿主程序就进行自我复制，是一种独立的
病毒程序。
当一个系统成功地被入侵，攻击者可能会试图提升自己的权限，以获得管理员
或根用户级的访问权限。一旦获得高级别的访问权限，攻击者便可以上传工具
包，它们统称为**rootkit** 

当特定事件发生时，逻辑炸弹（logic bomb）会执行某个程序或者一段代码。
特洛伊木马(Trojan horse)是一种伪装成另一个程序的程序，执行恶意功能。 



防恶意软件
• 传统的防病毒软件使用病毒特征来检测恶意代码，特征型检测（也称
为指纹检测）是检测恶意软件的一种有效手段。
• ”启发式检测“会分析恶意代码的总体结构，评估编码指令和逻辑功
能，并研究病毒或蠕虫内的数据类型。
• 垃圾邮件检测
• 防病毒策略 



启发式检测(heuristic detection)”。这种方
法会分析恶意代码的总体结构，评估编码指令和逻辑功能，并研究病毒或蠕虫内的数据类型。
因此，它收集与这段代码有关的大量信息，并评估其作为恶意代码的可能性。这种方法采用一
个“可疑性计数器”，该计数器的计数将随着程序发现潜在的恶意属性的增多而递增。如果计
数器超过某个预先设定的限值，那么就确认该代码为危险代码，防病毒软件会立即采取行动以
对系统进行保护。这使得防病毒软件能够检测出未知的恶意软件，而不是仅仅依靠病毒特征。 